- evaluate.py - evaluates accuracy rates of each type of image, including clumped, clumped with maize, discolored, with maize and normal at different thresholds. It first reads in a csv file (int the format of "[*image filename*], [*number of pieces classified as clean*]"), which contains how each image was predicted. It then reads in image files to record the real labels. Then for each threshold it forms a confusion matrix, then plots the threshold vs. accuracy rate for each type of image, and overall accuracy rate. 
- model.py - trains the model using the training dataset. To use this file, you only need to change the input directory and number of samples. You may find the following model layers nearly identical to the Keras tutorial model. This is because the tutorial model already achieved a pretty good result, and adding more layers (or removing some layers) does not seem to improve the accuracy. I have tried to tune the parameters using backwards propogation, added/removed some layers, changed optimizers, but none of which improved the accuracy rate. The model is saved as "*model.h5*". 
- knn.py - runs the code in model.py in a loop to perform a k-fold evaluation. To use this file, you only need to change *k*, which is the parameter for the fold evaluation, and the file directory. Make sure that they are in the correct format. All results were saved into a csv. 
- partition.py - copys preprocessed images into multiple folders for a k-fold evaluation. In this case the folder for each partition is called "*ks\k[numer of partition]*", but you can name it something else at least it is consistent with the py file. To use this file, you need to change your desired *k* and file directories. 
- preprocess.py - preprocesses and slice images, which includes: (a) rotating the image if necessary (b) resizing the image to 400 * 300 (c) slicing the image into 12 100 * 100 pieces. To use this file, you probably need to rewrite the file directories, but the preprocess function is already defined. 

All other files are either less important, or they are self explanatory. If you have any questions, please contact Eric Wang. 